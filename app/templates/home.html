{% extends "base.html" %}
{% block title %}RoboScholar - {{ total }} Robotics Papers{% endblock %}
{% block content %}
<div class="mb-8">
    <h1 class="text-3xl font-bold mb-2">Robotics Paper Index</h1>
    <p class="text-gray-400">{{ total }} papers across {{ grouped_papers|length }} categories</p>
</div>

{% for category, papers in grouped_papers.items() %}
<section class="mb-10">
    <h2 class="text-xl font-semibold text-indigo-400 mb-4 border-b border-gray-800 pb-2">
        {{ category }}
        <span class="text-sm text-gray-500 font-normal">({{ papers|length }})</span>
    </h2>
    <div class="grid gap-3">
        {% for p in papers %}
        <a href="/papers/{{ p.slug }}"
           class="block bg-gray-900 hover:bg-gray-800 border border-gray-800 rounded-lg px-5 py-4 transition">
            <div class="flex items-start justify-between gap-4">
                <div class="min-w-0">
                    <span class="text-gray-500 text-sm mr-2">#{{ p.number }}</span>
                    <span class="font-medium text-gray-100">{{ p.title }}</span>
                    {% if p.authors %}
                    <p class="text-sm text-gray-500 mt-1 truncate">{{ p.authors }}</p>
                    {% endif %}
                </div>
                <div class="flex-shrink-0 text-right">
                    {% if p.year %}
                    <span class="text-sm text-gray-500">{{ p.year }}</span>
                    {% endif %}
                    {% if p.pdf_filename %}
                    <span class="ml-2 text-xs bg-green-900 text-green-300 px-2 py-0.5 rounded">PDF</span>
                    {% endif %}
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</section>
{% endfor %}
{% endblock %}
